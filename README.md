![Kompass](https://github.com/sellmair/kompass/blob/develop/assets/Kompass_724.png?raw=true)

A powerful router concept for android, written in Kotlin

# Setup
WIP: Coming soon.


# Usage
## Basic
Kompass makes extensive use of ship-vocabulary for its API's. Here are the main analogies: 
- The _Kompass_ is the upper most object and contains ships
- A _Ship_ is the entity which can route to a certain _Destination_. This might represent a certain area of your 
activity where fragments can be loaded.
- A _Sail_ is the actual area where fragments can be placed in. Your activity therefore sets the 
sails for a certain ship, which then 'sails' to the destination. 
- A _Destination_ represents one certain 'scene' of your app. It also holds all necessary arguments for 
 the fragment/activity. For example: You might have a 
'LoginDestination', 'HomeDestination', 'SettingsDestination', ...  in your application. 


#### Create a Kompass
Creating the _Kompass_ is very simple using the provided builder: 

###### Create a Kompass: Trivial
This example is the most trivial Kompass that can be built. It accepts any object implementing
_KompassDestination_ as Destination. We will talk about the .addMap() part later. 
It is easy, I promise :bowtie:
```kotlin
val trivialKompass = Kompass.builder<KompassDestination>(context)
                     .addMap(myKompassMap) // we will talk about this later
                     .build()
```

___
<br><br>
###### Create a Kompass: Real World Example
Here is a real-world example of Kompass, where _MyCustomDestinationType_ is just a basic
sealed class and 'autoMap', 'autoCrane' and 'autoPilot' are extension functions automatically 
generated by the _KompassCompiler_. But as you can see: It is very easy to create a Kompass object :blush:

```kotlin
val kompass = Kompass.builder<MyCustomDestinationType>(context)
                     .autoMap()
                     .autoCrane()
                     .autoPilot()
                     .build()
```


#### Set sails to a Ship
Once your activity has started, you have to provide a sail for the ship which should route to certain 
destinations. You can do this whenever you want to (even after you routed your ship to a certain
destination). The following example will show how the FrameLayout with id 'R.id.lisa_container' will 
be used for the ship called Lisa as _Sail_: 

```kotlin
class MainActivity : AppCompatActivity() {
    private lateinit var sail: KompassSail

    @SuppressLint("MissingSuperCall")
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        // Step 1: Get the kompass instance (Dagger, Kodein, Singleton?, ...)
        val kompass = ...
        
        // Step 2: Get the ship called 'lisa'
        val lisa = kompass["lisa"]
        
        // Step 3: Set the sail and store the reference
        this.sail = lisa.setSail(this, R.id.lisa_container)
       
    }

    
    override fun onBackPressed() {
        if (!kompass.popBackImmediate())
            super.onBackPressed()
    }

    override fun onDestroy() {
        super.onDestroy()
        
        // Step 4 Release the sail when no longer needed
        sail.release()
    }
}
```

#### Route to a Destination

## Advanced
#### The Map
#### The Cran
#### The Detour / The DetourPilot
#### AutoMap, AutoCran, AutoPilot
#### BackStack
